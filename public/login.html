<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/login.css">
    <title>Login</title>
</head>
<body>
    <div class="wrapper">
        <div class="loginContainer">
            <div class="traditionalLoginContainer">
                <form action="/" method="post">
                    <input type="text" name="username" placeholder="Username" id="username">
                    <input type="password" name="password" placeholder="Password" id="password">
                    <input type="submit" value="Login">
                </form>
            </div>
            <div class="loginWithFireContainer">
                <button class="fire" id="fire">Login with Fire ðŸ”¥</button>
            </div>
        </div>
    </div>
    <script>
        const fireBroadcastingChannel = new BroadcastChannel('fireOAuthChannel');
        fireBroadcastingChannel.addEventListener('message', event => {
            // event.data is the message sent from the fireOAuthChannel after verification
            // The Data will likely to have the data of the user or the error message with the success code
            // if success == 1 then the data will be the user data
            // if success == 0 then the data will be the error message
            
            // It is the responsibility of the developer to handle the data
            // Right now I am just printing it to the console

            console.log(event.data)
        })
    </script>
</body>
</html>